<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Записи на кусры иностранного языка</title>
    <link rel="stylesheet" type="text/css" href="B.css">
</head>
<body>
    <div class="accordion">
        <div class="contentBx">
            <div class="label">Beginner (начальный)</div>
            <div class="content">
                <p>Знания ограничиваются базовой школьной программой<br>
                и умением отреагировать элементарными словами.
                    <br>
                    <br>
                    <br>
                    <br>Цена за курс: 300 руб/мес.
                    <br>Срок обучения: 3-6 мес.</p>
            </div>
        </div>
        <div class="contentBx">
            <div class="label">Elementary (базовый)</div>
            <div class="content">
                <p>Возможным становится общение простыми фразами<br>
                    на базовом уровне, чтение лёгких текстов и написание<br>
                    простых предложений.
                    <br>
                    <br>
                    <br>Цена за курс: 450 руб/мес.
                    <br>Срок обучения: 3-6 мес.</p>
            </div>
        </div>
        <div class="contentBx">
            <div class="label">Intermediate (средний)</div>
            <div class="content">
                <p>Уверенное изложение мыслей с использованием разнообразной<br>
                    лекции. Чтение книг и прессы (со словарём). Написание<br>
                    простых текстов по типу сочинения.
                    <br>
                    <br>
                    <br>Цена за курс: 600 руб/мес.
                    <br>Срок обучения: 4-9 мес.</p>
            </div>
        </div>
        <div class="contentBx">
            <div class="label">Upper-Intermediate (выше среднего)</div>
            <div class="content">
                <p>Более уверенная речь с небольшим количеством ошибок<br>
                    В написании текстов могут присутствовать ошибки в словах<br>
                    и путаница в стилях написания. Чтение художественной<br>
                    литературы происходит практически без словаря.
                    <br>
                    <br>Цена за курс: 750 руб/мес.
                    <br>Срок обучения: 4-9 мес.</p>
            </div>
        </div>
        <div class="contentBx">
            <div class="label">Advanced (продвинутый)</div>
            <div class="content">
                <p>Свободное владение языком, умение строить конструкции<br>
                    в чётком соответствии с разговорным или официальным<br>
                    стилем. Чтение и письмо не вызывает сложности в понимании<br>
                    сути и смысла.
                    <br>
                    <br>Цена за курс: 880 руб/мес.
                    <br>Срок обучения: 6-12 мес.</p>
            </div>
        </div>
        <div class="contentBx">
            <div class="label">Proficiency (профессиональный)</div>
            <div class="content">
                <p>Знание языка на совершенном уровне.
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>Цена за курс: 1050 руб/мес.
                    <br>Срок обучения: 6-12 мес.</p>
            </div>
        </div>
    </div>
    <script>
        const accordion = document.getElementsByClassName('contentBx');

        for (i = 0; i<accordion.length; i++){
            accordion[i].addEventListener('click',function (){
                this.classList.toggle('active')
            })
        }
    </script>
    <div class="page">
        <form class="js-form" action="" novalidate >
            <div class="form__group">
                <input type="text" class="input js-input" name="name" placeholder="Имя"  >
            </div>
            <div class="form__group">
                <input type="text" class="input js-input" name="last name" placeholder="Фамилия"  >
            </div>
            <div class="form__group">
                <input type="email" class="input js-input js-input-email" name="email" placeholder="Your Email"  >
            </div>
            <div class="form__group">
                <input type="tel" class="input js-input js-input-phone" name="phone" placeholder="Телефон" >
            </div>
            <div class="form__group">
                <input type="checkbox" class="checkbox__input js-input-checkbox" id="privacy_check">
                <label class="checkbox__label" for="privacy_check">Подтверждение</label>
            </div>
            <button class="btn" type="submit">
                Отправить
            </button>
        </form>
    </div>
    <script>
        let form = document.querySelector('.js-form'),
            formInputs = document.querySelectorAll('.js-input'),
            inputEmail = document.querySelector('.js-input-email'),
            inputPhone = document.querySelector('.js-input-phone'),
            inputCheckbox = document.querySelector('.js-input-checkbox');


        function validateEmail(email) {
            let re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(String(email).toLowerCase());
        }


        function validateCountry(country) {
            let re = new RegExp('.co$');
            return re.test(String(country).toLowerCase());
        }

        function validatePhone(phone) {
            let re = /^[0-9\s]*$/;
            return re.test(String(phone));
        }

        form.onsubmit = function () {
            let emailVal = inputEmail.value,
                phoneVal = inputPhone.value,
                emptyInputs = Array.from(formInputs).filter(input => input.value === '');

            formInputs.forEach(function (input) {
                if (input.value === '') {
                    input.classList.add('error');

                } else {
                    input.classList.remove('error');
                }
            });

            if (emptyInputs.length !== 0) {
                console.log('inputs not filled');
                return false;
            }

            if(!validateEmail(emailVal)) {
                console.log('email not valid');
                inputEmail.classList.add('error');
                return false;
            } else {
                inputEmail.classList.remove('error');
            }

            if (validateCountry(emailVal)) {
                console.log('email from Columbia');
                inputEmail.classList.add('error');
                return false;
            } else {
                inputEmail.classList.remove('error');
            }

            if (!validatePhone(phoneVal)) {
                console.log('phone not valid');
                inputPhone.classList.add('error');
                return false;
            } else {
                inputPhone.classList.remove('error');
            }

            if(!inputCheckbox.checked) {
                console.log('checkbox not checked');
                inputCheckbox.classList.add('error');
                return false;
            } else {
                inputCheckbox.classList.remove('error')
            }


        }
    </script>
</body>
</html>